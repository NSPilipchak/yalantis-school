{"version":3,"sources":["service/Api.js","components/UserList.js","components/Alphabet.js","service/Const.js","helpers/Helpers.js","components/UserListByMonth.js","pages/Emploees.js","App.js","index.js"],"names":["getUsers","a","axios","res","console","log","UserList","setActiveUsers","users","activeUsers","React","useState","checked","forEach","user","id","filter","activUser","length","className","map","lastName","firstName","type","onChange","Alphabet","usersByAlpha","rawData","handleSelectUser","find","letter","index","months","sortArray","sort","b","nameA","toLowerCase","nameB","userByAlpha","data","setUserByAlpha","toUpperCase","startsWith","stringInfoUser","Date","dob","getDate","getMonth","getFullYear","UserListByMonth","localStorage","setItem","JSON","stringify","usersByMonth","month","userByMonths","Emploees","parse","getItem","setRawData","useEffect","fetchData","IndexPage","to","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8c504cf.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport async function getUsers() {\r\n  let res;\r\n  try {\r\n    res = await axios(\r\n      \"https://yalantis-react-school-api.yalantis.com/api/task0/users\"\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n  return res;\r\n}","import \"./UserList.css\"\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst UserList = ({ setActiveUsers, users = [], activeUsers }) => {\r\n  const [checked] = React.useState([]);\r\n  const check = () => {\r\n    users.forEach((user) => {\r\n      checked[user.id] = (activeUsers.filter( activUser => activUser.id === user.id).length===1)\r\n    });\r\n  }\r\n  check();\r\n\r\n  if (users.length === 0) {\r\n    return <div>---</div>;\r\n  } else {\r\n    return (\r\n      <div className=\"user-list__list\">\r\n        {users.map(user => (\r\n          <div className=\"user-list__item\" key={user.id}>\r\n            {user.lastName} {user.firstName}\r\n            <input\r\n              type=\"checkbox\"\r\n              onChange={() => {\r\n                setActiveUsers(user.id);\r\n                checked[user.id] = !checked[user.id];\r\n              }}\r\n              checked={checked[user.id]}\r\n              id={user.id}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nUserList.propTypes = {\r\n  users: PropTypes.array,\r\n  setActiveUsers: PropTypes.func\r\n};\r\n\r\nexport default UserList;\r\n","import React from \"react\";\r\nimport UserList from \"./UserList\";\r\nimport { getAlphabet } from \"../service/Const\";\r\n\r\nconst Alphabet = ({ usersByAlpha, activeUsers, setActiveUsers, rawData }) => {\r\n\r\n  const handleSelectUser = id => {\r\n    activeUsers.find(user => user.id === id)\r\n      ? setActiveUsers(activeUsers.filter(user => user.id !== id))\r\n      : setActiveUsers([...activeUsers, rawData.find(user => user.id === id)]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"column_user_list\">\r\n      {getAlphabet().map((letter, index) => (\r\n        <div key={`letter_index${index}`}>\r\n          <p className={`letter`}>{letter}</p>\r\n          <UserList\r\n            users={usersByAlpha[index]}\r\n            activeUsers={activeUsers}\r\n            setActiveUsers={handleSelectUser}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alphabet;\r\n","export function getMonth() {\r\n    return [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\"\r\n    ];\r\n}\r\n\r\nexport function getAlphabet() {\r\n    return [\r\n        \"A\",\r\n        \"B\",\r\n        \"C\",\r\n        \"D\",\r\n        \"E\",\r\n        \"F\",\r\n        \"G\",\r\n        \"H\",\r\n        \"I\",\r\n        \"J\",\r\n        \"K\",\r\n        \"L\",\r\n        \"M\",\r\n        \"N\",\r\n        \"O\",\r\n        \"P\",\r\n        \"Q\",\r\n        \"R\",\r\n        \"S\",\r\n        \"T\",\r\n        \"U\",\r\n        \"V\",\r\n        \"W\",\r\n        \"X\",\r\n        \"Y\",\r\n        \"Z\"\r\n    ];\r\n}","import { getAlphabet, getMonth } from \"../service/Const\";\r\n\r\nconst months = getMonth();\r\n\r\nexport function sortArray(users) {\r\n  users.sort(function(a, b) {\r\n    var nameA = a.lastName.toLowerCase(),\r\n      nameB = b.lastName.toLowerCase();\r\n    if (nameA < nameB) return -1;\r\n    if (nameA > nameB) return 1;\r\n    return 0;\r\n  });\r\n  return users;\r\n}\r\n\r\nexport function userByAlpha(data, usersByAlpha, setUserByAlpha) {\r\n  getAlphabet().forEach((letter, index) => {\r\n    usersByAlpha[index] = sortArray(\r\n      data.filter(user => user.lastName.toUpperCase().startsWith(letter))\r\n    );\r\n  });\r\n  setUserByAlpha([...usersByAlpha]);\r\n}\r\n\r\nexport function userByMonths(users) {\r\n  users = sortArray(users);\r\n  const usersByMonth = [];\r\n  months.forEach((month, index) => {\r\n    usersByMonth[index] = users.filter(\r\n      user => new Date(user.dob).getMonth() === index\r\n    );\r\n  });\r\n  return usersByMonth;\r\n}\r\n\r\nexport function stringInfoUser(user) {\r\n  return `${user.lastName} ${user.firstName} - \r\n    ${new Date(user.dob).getDate()} \r\n    ${months[new Date(user.dob).getMonth()]} \r\n    ${new Date(user.dob).getFullYear()} year`;\r\n}","import \"./UserListByMonth.css\"\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {stringInfoUser, userByMonths} from \"../helpers/Helpers\";\r\nimport {getMonth} from \"../service/Const\";\r\n\r\nconst UserListByMonth = ({ users = [] }) => {\r\n  localStorage.setItem(\"users\", JSON.stringify(users));\r\n  const months = getMonth();\r\n\r\n  const usersByMonth = userByMonths(users);\r\n\r\n  return users.length === 0 ? (\r\n    <div>No selected employees</div>\r\n  ) : (\r\n    <div className=\"user-list-by-month__list vLine\">\r\n    <hr/>\r\n      {months.map((month, index) => {\r\n        return (\r\n          usersByMonth[index].length > 0 && (\r\n            <div key={month}>\r\n              <p>{month}</p>\r\n              <ul>\r\n                {usersByMonth[index].map(user => (\r\n                  <li className=\"user-list-by-month__item\" key={user.id}>\r\n                    {stringInfoUser(user)}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nUserListByMonth.propTypes = {\r\n  users: PropTypes.array,\r\n  months: PropTypes.array\r\n};\r\n\r\nexport default UserListByMonth;\r\n","import \"./Emploees.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getUsers } from \"../service/Api\";\r\nimport Alphabet from \"../components/Alphabet\";\r\nimport UserListByMonth from \"../components/UserListByMonth\";\r\nimport { userByAlpha } from \"../helpers/Helpers\";\r\n\r\nconst Emploees = () => {\r\n  const [activeUsers, setActiveUsers] = useState(\r\n    JSON.parse(localStorage.getItem(\"users\") || \"[]\")\r\n  );\r\n  const [usersByAlpha, setUserByAlpha] = useState([]);\r\n  const [rawData, setRawData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const { data = [] } = await getUsers();\r\n      setRawData(data);\r\n      userByAlpha(data, usersByAlpha, setUserByAlpha);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"main\">\r\n      <div className=\"alphabet\">\r\n        <p>Employees</p>\r\n        <Alphabet\r\n          usersByAlpha={usersByAlpha}\r\n          activeUsers={activeUsers}\r\n          setActiveUsers={setActiveUsers}\r\n          rawData={rawData}\r\n        />\r\n      </div>\r\n      <div className=\"user-list-by--month\">\r\n        <p>Employees birthday</p>\r\n        <UserListByMonth users={activeUsers} />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Emploees;\r\n","import \"./App.css\";\r\nimport React from \"react\";\r\nimport { Link, BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Emploees from \"./pages/Emploees\";\r\n\r\nconst App = () => (\r\n  <div>\r\n    <Switch>\r\n      <Route exact path='/' component={IndexPage} />\r\n      <Route path='/employees' component={Emploees} />\r\n    </Switch>\r\n  </div>\r\n);\r\n\r\nconst IndexPage = () => {\r\n  return (\r\n    <h3>\r\n      Let's go to <Link to='/employees'>Emploees</Link>\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {HashRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}